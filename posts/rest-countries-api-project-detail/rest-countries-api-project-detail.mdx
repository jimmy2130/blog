---
title: 國家查詢器作品說明
date: 2023/05/09
description: 此篇文章以四個互動式元件，來說明國家查詢器的作品亮點
published: true
components: FirstRestApiDemo, SecondRestApiDemo, ThirdRestApiDemo, FourthRestApiDemo
---

跟後端要資料，是前端網頁開發中重要的一環，為了練習這樣子的技術，我在Frontend Mentor上面，找到了國家查詢器的[設計作品](https://www.frontendmentor.io/challenges/rest-countries-api-with-color-theme-switcher-5cacc469fec04111f7b848ca)。

[這個作品](https://rest-countries-api-pi-ten.vercel.app)可供使用者查詢並篩選國家，點選國家後，可進一步觀看更詳細的資訊。在國家資訊頁裡面，也可透過連結查看相鄰國家的資料。另外，這個網站支援深色模式，使用者可點擊開關來切換網站的顏色。

[這次的程式碼](https://github.com/jimmy2130/rest-countries-api)用到了React Router和React Query。前者專門處理網址，後者則負責和[Rest Countries的網站](https://restcountries.com)要資料。

## 網址處裡

本作品的頁面，主要分成首頁以及國家資訊頁。使用者在首頁中，查詢國家的字串以及篩選國家的條件都會反應在網址上。除此之外，當使用者誤入一個不存在的網址時，也能看到頁面不存在的訊息。

下面是一個互動式元件，由左至右的國家分別是比利時、法國、德國和幾內亞，選擇各個網址，可以看到該網址所對應到的畫面。


<FirstRestApiDemo/>

另外，從國家資訊頁出發，有多種返回首頁的方式，整理如下：

1. 按下導覽列的標題：回到首頁，並清空查詢字串及篩選條件。
2. 按下頁面中返回鈕：回到首頁，但保留查詢字串及篩選條件。
3. 按下瀏覽器的返回鈕：回到上一頁，取決於瀏覽紀錄，不一定能回到首頁。

試著點擊標題或返回鈕，看看這些操作會如何影響瀏覽紀錄吧。

<SecondRestApiDemo/>

## 國家資訊頁的流動版型設計

這個作品的國家資訊頁有很多留白的部分，當螢幕寬度逐漸縮小時，需思考該扣除哪些留白的空間，才能完整呈現國家資訊。

以下的互動式元件說明了本作品針對國家資訊頁所作的響應式設計。當螢幕寬度逐漸縮小時，右側的文字會先向左側的圖靠攏，接著，右側右欄的文字會向左欄文字靠攏，最後，左側的圖會漸漸縮小。

拖曳滑桿以觀察在不同螢幕寬度下，元件的排列方法。

<ThirdRestApiDemo/>

## 深色模式開關

本作品為了支援淺色模式和深色模式，將網站所用到的顏色，全部先定義在同一個檔案裡，然後再以CSS變數儲存顏色資訊，這些顏色資訊會根據深色模式開關的狀態做改變。這樣子撰寫CSS規則時，就可以直接使用CSS變數來描述元件所需的顏色。

<FourthRestApiDemo/>

## 參考資料

- [React Router Tutorial](https://reactrouter.com/en/main/start/tutorial)
- [React Router Example](https://reactrouter.com/en/main/start/examples)
- [React Query Course](https://ui.dev/react-query)
- [React Query meets React Router](https://tkdodo.eu/blog/react-query-meets-react-router)
